CREATE TABLE User
(
  Id INT NOT NULL,
  Level CHAR(1) NOT NULL,
  Name VARCHAR(20) NOT NULL,
  Surname VARCHAR(20) NOT NULL,
  Email VARCHAR(30) NOT NULL,
  PRIMARY KEY (Id)
);

CREATE TABLE Product
(
  Id INT NOT NULL,
  Name VARCHAR(20) NOT NULL,
  Price FLOAT NOT NULL,
  Quantity INT NOT NULL,
  PRIMARY KEY (Id)
);

CREATE TABLE Payment
(
  Id INT NOT NULL,
  Price FLOAT NOT NULL,
  Date DATE NOT NULL,
  Method VARCHAR(10) NOT NULL,
  PayingUserId INT NOT NULL,
  PRIMARY KEY (Id),
  FOREIGN KEY (PayingUserId) REFERENCES User(Id)
);

CREATE TABLE UserPhoneNo
(
  PhoneNo CHAR(10) NOT NULL,
  UserId INT NOT NULL,
  PRIMARY KEY (PhoneNo, UserId),
  FOREIGN KEY (UserId) REFERENCES User(Id)
);

CREATE TABLE Cart
(
  Id INT NOT NULL,
  Date DATE NOT NULL,
  Price FLOAT NOT NULL,
  NoOfItems INT NOT NULL,
  CartPaymentID INT NOT NULL,
  CartHolderID INT NOT NULL,
  PRIMARY KEY (Id),
  FOREIGN KEY (CartPaymentID) REFERENCES Payment(Id),
  FOREIGN KEY (CartHolderID) REFERENCES User(Id)
);

CREATE TABLE CartContains
(
  ProductID INT NOT NULL,
  CartID INT NOT NULL,
  FOREIGN KEY (ProductID) REFERENCES Product(Id),
  FOREIGN KEY (CartID) REFERENCES Cart(Id)
);